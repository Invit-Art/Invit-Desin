{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";function AnimacionScroll(_ref){let{className,children}=_ref;const ref=useRef(null);const[activeClass,setActiveClass]=useState(\"\");// 🔥 Clase de animación dinámica\nconst lastScrollY=useRef(window.scrollY);// 🔥 Detecta si el usuario hace scroll hacia abajo\nuseEffect(()=>{const handleScroll=()=>{if(!ref.current)return;const windowHeight=window.innerHeight;const showTop=ref.current.getBoundingClientRect().top;const showPoint=100;const scrollDown=window.scrollY>lastScrollY.current;lastScrollY.current=window.scrollY;// 🔥 Activa animación solo si entra en pantalla desde abajo\nif(scrollDown&&showTop<windowHeight-showPoint&&!activeClass){setActiveClass(getAnimationClass(className));}// 🔥 Remueve la animación si el usuario sube y la sección sale completamente\nelse if(!scrollDown&&showTop>windowHeight){setActiveClass(\"\");}};window.addEventListener(\"scroll\",handleScroll);return()=>window.removeEventListener(\"scroll\",handleScroll);},[className,children]);// 🔥 Agrega `children` para que las animaciones respondan a los cambios internos\nreturn/*#__PURE__*/_jsx(\"div\",{ref:ref,className:`${className} ${activeClass}`,children:children});}// 🔥 Función para asignar las clases de animación específicas\nfunction getAnimationClass(className){if(className.includes(\"show-n-x\"))return\"active-n-x\";if(className.includes(\"show-p-x\"))return\"active-p-x\";if(className.includes(\"show-n-y\"))return\"active-n-y\";if(className.includes(\"show-p-y\"))return\"active-p-y\";if(className.includes(\"show\"))return\"active\";return\"\";}export default AnimacionScroll;","map":{"version":3,"names":["React","useEffect","useRef","useState","jsx","_jsx","AnimacionScroll","_ref","className","children","ref","activeClass","setActiveClass","lastScrollY","window","scrollY","handleScroll","current","windowHeight","innerHeight","showTop","getBoundingClientRect","top","showPoint","scrollDown","getAnimationClass","addEventListener","removeEventListener","includes"],"sources":["D:/invit-desin/src/invit-deluxe/AnimacionScroll.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nfunction AnimacionScroll({ className, children }) {\r\n  const ref = useRef(null);\r\n  const [activeClass, setActiveClass] = useState(\"\"); // 🔥 Clase de animación dinámica\r\n  const lastScrollY = useRef(window.scrollY); // 🔥 Detecta si el usuario hace scroll hacia abajo\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      if (!ref.current) return;\r\n\r\n      const windowHeight = window.innerHeight;\r\n      const showTop = ref.current.getBoundingClientRect().top;\r\n      const showPoint = 100;\r\n      const scrollDown = window.scrollY > lastScrollY.current;\r\n      lastScrollY.current = window.scrollY;\r\n\r\n      // 🔥 Activa animación solo si entra en pantalla desde abajo\r\n      if (scrollDown && showTop < windowHeight - showPoint && !activeClass) {\r\n        setActiveClass(getAnimationClass(className)); \r\n      }\r\n\r\n      // 🔥 Remueve la animación si el usuario sube y la sección sale completamente\r\n      else if (!scrollDown && showTop > windowHeight) {\r\n        setActiveClass(\"\"); \r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n    return () => window.removeEventListener(\"scroll\", handleScroll);\r\n  }, [className, children]); // 🔥 Agrega `children` para que las animaciones respondan a los cambios internos\r\n\r\n  return (\r\n    <div ref={ref} className={`${className} ${activeClass}`}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\n// 🔥 Función para asignar las clases de animación específicas\r\nfunction getAnimationClass(className) {\r\n  if (className.includes(\"show-n-x\")) return \"active-n-x\";\r\n  if (className.includes(\"show-p-x\")) return \"active-p-x\";\r\n  if (className.includes(\"show-n-y\")) return \"active-n-y\";\r\n  if (className.includes(\"show-p-y\")) return \"active-p-y\";\r\n  if (className.includes(\"show\")) return \"active\";\r\n  return \"\";\r\n}\r\n\r\nexport default AnimacionScroll;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE3D,QAAS,CAAAC,eAAeA,CAAAC,IAAA,CAA0B,IAAzB,CAAEC,SAAS,CAAEC,QAAS,CAAC,CAAAF,IAAA,CAC9C,KAAM,CAAAG,GAAG,CAAGR,MAAM,CAAC,IAAI,CAAC,CACxB,KAAM,CAACS,WAAW,CAAEC,cAAc,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAAE;AACpD,KAAM,CAAAU,WAAW,CAAGX,MAAM,CAACY,MAAM,CAACC,OAAO,CAAC,CAAE;AAE5Cd,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,YAAY,CAAGA,CAAA,GAAM,CACzB,GAAI,CAACN,GAAG,CAACO,OAAO,CAAE,OAElB,KAAM,CAAAC,YAAY,CAAGJ,MAAM,CAACK,WAAW,CACvC,KAAM,CAAAC,OAAO,CAAGV,GAAG,CAACO,OAAO,CAACI,qBAAqB,CAAC,CAAC,CAACC,GAAG,CACvD,KAAM,CAAAC,SAAS,CAAG,GAAG,CACrB,KAAM,CAAAC,UAAU,CAAGV,MAAM,CAACC,OAAO,CAAGF,WAAW,CAACI,OAAO,CACvDJ,WAAW,CAACI,OAAO,CAAGH,MAAM,CAACC,OAAO,CAEpC;AACA,GAAIS,UAAU,EAAIJ,OAAO,CAAGF,YAAY,CAAGK,SAAS,EAAI,CAACZ,WAAW,CAAE,CACpEC,cAAc,CAACa,iBAAiB,CAACjB,SAAS,CAAC,CAAC,CAC9C,CAEA;AAAA,IACK,IAAI,CAACgB,UAAU,EAAIJ,OAAO,CAAGF,YAAY,CAAE,CAC9CN,cAAc,CAAC,EAAE,CAAC,CACpB,CACF,CAAC,CAEDE,MAAM,CAACY,gBAAgB,CAAC,QAAQ,CAAEV,YAAY,CAAC,CAC/C,MAAO,IAAMF,MAAM,CAACa,mBAAmB,CAAC,QAAQ,CAAEX,YAAY,CAAC,CACjE,CAAC,CAAE,CAACR,SAAS,CAAEC,QAAQ,CAAC,CAAC,CAAE;AAE3B,mBACEJ,IAAA,QAAKK,GAAG,CAAEA,GAAI,CAACF,SAAS,CAAE,GAAGA,SAAS,IAAIG,WAAW,EAAG,CAAAF,QAAA,CACrDA,QAAQ,CACN,CAAC,CAEV,CAEA;AACA,QAAS,CAAAgB,iBAAiBA,CAACjB,SAAS,CAAE,CACpC,GAAIA,SAAS,CAACoB,QAAQ,CAAC,UAAU,CAAC,CAAE,MAAO,YAAY,CACvD,GAAIpB,SAAS,CAACoB,QAAQ,CAAC,UAAU,CAAC,CAAE,MAAO,YAAY,CACvD,GAAIpB,SAAS,CAACoB,QAAQ,CAAC,UAAU,CAAC,CAAE,MAAO,YAAY,CACvD,GAAIpB,SAAS,CAACoB,QAAQ,CAAC,UAAU,CAAC,CAAE,MAAO,YAAY,CACvD,GAAIpB,SAAS,CAACoB,QAAQ,CAAC,MAAM,CAAC,CAAE,MAAO,QAAQ,CAC/C,MAAO,EAAE,CACX,CAEA,cAAe,CAAAtB,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}