{"ast":null,"code":"import { collection, getDocs, doc, setDoc } from \"firebase/firestore\";\nimport { db } from \"./firebaseConfig\"; // AsegÃºrate de que la ruta es correcta\n\nconst generarID = async nombre => {\n  const prefijo = \"SB\";\n  let numeroIncremental = 1;\n\n  // ðŸ“Œ Consultar el Ãºltimo nÃºmero usado\n  const docRef = doc(db, \"configuracion\", \"contador\");\n  const docSnap = await getDocs(collection(db, \"configuracion\"));\n  if (!docSnap.empty) {\n    const ultimoNumero = docSnap.docs[0].data().ultimoNumero;\n    numeroIncremental = ultimoNumero + 1;\n  }\n  const nuevoID = `${prefijo}${numeroIncremental}${nombre.replace(/\\s/g, \"\")}`;\n\n  // ðŸ“Œ Guardar el nuevo nÃºmero incremental en Firebase\n  await setDoc(docRef, {\n    ultimoNumero: numeroIncremental\n  });\n  return nuevoID;\n};\nexport default generarID;","map":{"version":3,"names":["collection","getDocs","doc","setDoc","db","generarID","nombre","prefijo","numeroIncremental","docRef","docSnap","empty","ultimoNumero","docs","data","nuevoID","replace"],"sources":["D:/invit-desin/src/Database/generarID.js"],"sourcesContent":["import { collection, getDocs, doc, setDoc } from \"firebase/firestore\";\r\nimport { db } from \"./firebaseConfig\"; // AsegÃºrate de que la ruta es correcta\r\n\r\nconst generarID = async (nombre) => {\r\n  const prefijo = \"SB\";\r\n  let numeroIncremental = 1;\r\n\r\n  // ðŸ“Œ Consultar el Ãºltimo nÃºmero usado\r\n  const docRef = doc(db, \"configuracion\", \"contador\");\r\n  const docSnap = await getDocs(collection(db, \"configuracion\"));\r\n\r\n  if (!docSnap.empty) {\r\n    const ultimoNumero = docSnap.docs[0].data().ultimoNumero;\r\n    numeroIncremental = ultimoNumero + 1;\r\n  }\r\n\r\n  const nuevoID = `${prefijo}${numeroIncremental}${nombre.replace(/\\s/g, \"\")}`;\r\n\r\n  // ðŸ“Œ Guardar el nuevo nÃºmero incremental en Firebase\r\n  await setDoc(docRef, { ultimoNumero: numeroIncremental });\r\n\r\n  return nuevoID;\r\n};\r\n\r\nexport default generarID;\r\n"],"mappings":"AAAA,SAASA,UAAU,EAAEC,OAAO,EAAEC,GAAG,EAAEC,MAAM,QAAQ,oBAAoB;AACrE,SAASC,EAAE,QAAQ,kBAAkB,CAAC,CAAC;;AAEvC,MAAMC,SAAS,GAAG,MAAOC,MAAM,IAAK;EAClC,MAAMC,OAAO,GAAG,IAAI;EACpB,IAAIC,iBAAiB,GAAG,CAAC;;EAEzB;EACA,MAAMC,MAAM,GAAGP,GAAG,CAACE,EAAE,EAAE,eAAe,EAAE,UAAU,CAAC;EACnD,MAAMM,OAAO,GAAG,MAAMT,OAAO,CAACD,UAAU,CAACI,EAAE,EAAE,eAAe,CAAC,CAAC;EAE9D,IAAI,CAACM,OAAO,CAACC,KAAK,EAAE;IAClB,MAAMC,YAAY,GAAGF,OAAO,CAACG,IAAI,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,CAACF,YAAY;IACxDJ,iBAAiB,GAAGI,YAAY,GAAG,CAAC;EACtC;EAEA,MAAMG,OAAO,GAAG,GAAGR,OAAO,GAAGC,iBAAiB,GAAGF,MAAM,CAACU,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,EAAE;;EAE5E;EACA,MAAMb,MAAM,CAACM,MAAM,EAAE;IAAEG,YAAY,EAAEJ;EAAkB,CAAC,CAAC;EAEzD,OAAOO,OAAO;AAChB,CAAC;AAED,eAAeV,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}