{"ast":null,"code":"import React,{useState}from\"react\";import{login,register,logout,changeUserPassword}from\"./firebaseAuth\";import{useLocation,useParams}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=_ref=>{let{onLogin}=_ref;const[email,setEmail]=useState(\"\");const[password,setPassword]=useState(\"\");const[mostrarPassword,setMostrarPassword]=useState(false);const location=useLocation();const query=new URLSearchParams(location.search);const{cliente}=useParams();// usa esto si tu ruta es tipo /login/:cliente\nconst nombreCliente=cliente||query.get(\"cliente\")||\"Invitado\";const handleLogin=async()=>{try{const user=await login(email,password);console.log(\"‚úÖ Usuario logueado:\",user.uid);onLogin(user,nombreCliente);}catch(error){alert(\"‚ùå Error al iniciar sesi√≥n: \"+error.message);}};const handleRegister=async()=>{try{const user=await register(email,password);console.log(\"‚úÖ Usuario registrado:\",user.uid);onLogin(user);}catch(error){alert(\"‚ùå Error al registrar: \"+error.message);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDD10 Login por Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Correo\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"input\",{type:mostrarPassword?\"text\":\"password\",placeholder:\"Contrase\\xF1a\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setMostrarPassword(!mostrarPassword),children:mostrarPassword?\"üôà\":\"üëÅ\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,children:\"Iniciar sesi\\xF3n\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRegister,children:\"Registrarse\"})]});};// üîÅ Funciones auxiliares para App.js\nexport const handleLogout=async()=>{await logout();window.location.reload();};export const handleCambiarPassword=async(nuevoPassword,setNuevoPassword,setMostrarMenu)=>{try{await changeUserPassword(nuevoPassword);alert(\"‚úÖ Contrase√±a actualizada correctamente\");setNuevoPassword(\"\");setMostrarMenu(false);}catch(error){alert(\"‚ùå Error al cambiar la contrase√±a: \"+error.message);}};export default Login;","map":{"version":3,"names":["React","useState","login","register","logout","changeUserPassword","useLocation","useParams","jsx","_jsx","jsxs","_jsxs","Login","_ref","onLogin","email","setEmail","password","setPassword","mostrarPassword","setMostrarPassword","location","query","URLSearchParams","search","cliente","nombreCliente","get","handleLogin","user","console","log","uid","error","alert","message","handleRegister","className","children","type","placeholder","value","onChange","e","target","style","display","alignItems","onClick","handleLogout","window","reload","handleCambiarPassword","nuevoPassword","setNuevoPassword","setMostrarMenu"],"sources":["D:/invit-desin/src/Database/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { login, register, logout, changeUserPassword } from \"./firebaseAuth\";\r\nimport { useLocation, useParams } from \"react-router-dom\";\r\n\r\nconst Login = ({ onLogin }) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [mostrarPassword, setMostrarPassword] = useState(false);\r\n  const location = useLocation();\r\n  const query = new URLSearchParams(location.search);\r\n  const { cliente } = useParams(); // usa esto si tu ruta es tipo /login/:cliente\r\n  const nombreCliente = cliente || query.get(\"cliente\") || \"Invitado\";\r\n\r\n  const handleLogin = async () => {\r\n    try {\r\n      const user = await login(email, password);\r\n      console.log(\"‚úÖ Usuario logueado:\", user.uid);\r\n      onLogin(user, nombreCliente);\r\n    } catch (error) {\r\n      alert(\"‚ùå Error al iniciar sesi√≥n: \" + error.message);\r\n    }\r\n  };\r\n\r\n  const handleRegister = async () => {\r\n    try {\r\n      const user = await register(email, password);\r\n      console.log(\"‚úÖ Usuario registrado:\", user.uid);\r\n      onLogin(user);\r\n    } catch (error) {\r\n      alert(\"‚ùå Error al registrar: \" + error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-container\">\r\n      <h2>üîê Login por Email</h2>\r\n\r\n      <input\r\n        type=\"email\"\r\n        placeholder=\"Correo\"\r\n        value={email}\r\n        onChange={(e) => setEmail(e.target.value)}\r\n      />\r\n\r\n      <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n        <input\r\n          type={mostrarPassword ? \"text\" : \"password\"}\r\n          placeholder=\"Contrase√±a\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <button onClick={() => setMostrarPassword(!mostrarPassword)}>\r\n          {mostrarPassword ? \"üôà\" : \"üëÅ\"}\r\n        </button>\r\n      </div>\r\n\r\n      <button onClick={handleLogin}>Iniciar sesi√≥n</button>\r\n      <button onClick={handleRegister}>Registrarse</button>\r\n    </div>\r\n  );\r\n};\r\n\r\n// üîÅ Funciones auxiliares para App.js\r\nexport const handleLogout = async () => {\r\n  await logout();\r\n  window.location.reload();\r\n};\r\n\r\nexport const handleCambiarPassword = async (nuevoPassword, setNuevoPassword, setMostrarMenu) => {\r\n  try {\r\n    await changeUserPassword(nuevoPassword);\r\n    alert(\"‚úÖ Contrase√±a actualizada correctamente\");\r\n    setNuevoPassword(\"\");\r\n    setMostrarMenu(false);\r\n  } catch (error) {\r\n    alert(\"‚ùå Error al cambiar la contrase√±a: \" + error.message);\r\n  }\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}